/* Responsive Styles */

/* ============================================ */
/* Base Styles (Affecting mobile implicitly)    */
/* ============================================ */

/* Add some base padding to the body to prevent content touching edges */
body {
  padding: 0.5rem; /* Add some base padding */
}

/* Ensure buttons have minimum touch target size */
button,
.task-checkbox,
#pdf-tasks-header,
.task-item,
select {
  min-height: 44px; /* Minimum touch target height */
  /* Ensure vertical alignment is consistent */
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* Adjust padding on smaller buttons to maintain touch area */
button.p-1\.5 {
  /* Target specific small buttons like task actions */
  padding: 0.6rem; /* Increase padding slightly for easier tapping */
}
button.p-2 {
  padding: 0.75rem; /* Increase padding slightly */
}

/* Make sure inputs and selects are readable */
input[type="text"],
input[type="date"], /* If you add date inputs */
select,
textarea {
  /* If you add textareas */
  font-size: 16px; /* Prevents iOS auto-zoom on focus */
  width: 100%; /* Default to full width, can be overridden */
  padding: 0.75rem 1rem; /* Comfortable padding */
  min-height: 44px; /* Ensure touch target size */
}

/* Adjust icon sizes slightly for better clarity */
.material-symbols-outlined {
  font-size: 1.25rem; /* Default icon size */
}
.material-symbols-outlined.\!text-sm {
  font-size: 1rem;
}
.material-symbols-outlined.\!text-base {
  font-size: 1.125rem;
}
.material-symbols-outlined.\!text-lg {
  font-size: 1.25rem;
}

/* ============================================ */
/* Mobile Screens (max-width: 640px)           */
/* ============================================ */
@media (max-width: 640px) {
  body {
    padding: 0.25rem; /* Reduce body padding slightly on small screens */
  }

  /* --- Header Adjustments --- */
  header .max-w-screen-xl {
    flex-direction: column; /* Stack header items */
    align-items: center; /* Center items */
    gap: 1rem; /* Space between title and date nav */
    padding: 0 0.5rem; /* Reduce horizontal padding */
  }

  header h1 {
    text-align: center;
    font-size: 1.25rem; /* Slightly smaller title */
  }

  /* Date navigation container */
  header .bg-slate-100 {
    width: 100%; /* Full width */
    justify-content: space-around; /* Distribute space */
    padding: 0.25rem; /* Slightly reduce padding */
  }
  #current-date {
    font-size: 0.9rem; /* Smaller date text */
  }
  #go-today-btn {
    font-size: 0.7rem; /* Smaller 'Go to Today' */
  }

  /* --- Main Content Padding --- */
  main.p-4 {
    padding: 0.75rem;
  } /* Adjust main padding */
  main .max-w-screen-xl {
    padding: 0.75rem; /* Adjust padding within the main card */
  }

  /* --- Add Task Form --- */
  #add-task-form {
    flex-direction: column; /* Stack input and button */
    gap: 0.75rem; /* Space between input and button */
    margin-bottom: 1rem; /* Reduce bottom margin */
    padding-bottom: 1rem; /* Reduce padding */
  }
  #add-task-form input[type="text"] {
    text-align: center; /* Center placeholder */
    padding: 0.6rem 0.75rem; /* Adjust padding */
  }
  #add-task-form button {
    width: 100%; /* Full width button */
    padding: 0.75rem; /* Ensure good button size */
  }
  #add-task-form button span:first-of-type {
    /* Icon */
    margin-right: 0.5rem;
  }

  /* --- PDF Task Import Section --- */
  .pdf-tasks-container {
    margin-bottom: 1rem; /* Reduce margin */
  }
  #pdf-tasks-header {
    padding: 0.75rem; /* Adjust padding */
    flex-direction: column; /* Stack title and icon */
    align-items: flex-start; /* Align text left */
    gap: 0.25rem;
  }
  #pdf-tasks-header h3 {
    font-size: 1rem; /* Smaller header */
  }
  #pdf-tasks-header span#pdf-toggle-icon {
    position: absolute; /* Position icon top right */
    top: 0.75rem;
    right: 0.75rem;
  }

  #pdf-tasks-panel .flex {
    flex-direction: column; /* Stack select and filter */
    gap: 0.75rem;
  }
  #pdf-source-select,
  #pdf-search-input {
    width: 100%; /* Full width controls */
  }
  #pdf-tasks-list {
    max-height: 150px; /* Adjust max height */
    padding-right: 2px; /* Reduce scrollbar gap */
  }
  #pdf-tasks-list li {
    padding: 0.5rem 0.75rem; /* Adjust item padding */
  }
  #pdf-tasks-list li span {
    /* Text */
    font-size: 0.85rem;
  }
  #pdf-tasks-list li button {
    /* Import button */
    padding: 0.4rem;
  }

  /* --- Task List Section --- */
  .task-list-container h3 {
    /* "Today's Tasks" header */
    font-size: 1.1rem;
  }
  #task-stats {
    font-size: 0.75rem;
    padding: 0.25rem 0.6rem; /* Adjust padding */
  }

  /* Task list scrollbar */
  .task-list::-webkit-scrollbar {
    width: 4px; /* Thinner scrollbar */
  }
  .task-list {
    padding-right: 2px; /* Reduce scrollbar gap */
    min-height: 150px; /* Ensure minimum height */
  }

  /* Task item layout */
  .task-item {
    flex-wrap: wrap; /* Allow wrapping */
    padding: 0.75rem 0.5rem; /* Adjust padding */
    position: relative; /* For absolute positioning of actions */
    min-height: 50px; /* Ensure minimum height */
    border-left-width: 3px; /* Thinner border */
  }

  .task-view-mode {
    flex-grow: 1; /* Take available space */
    /* Buttons will be positioned absolutely */
  }

  .task-text {
    width: 100%; /* Full width initially */
    padding-right: 50px; /* Make space for action buttons */
    margin-bottom: 0; /* Remove bottom margin */
    font-size: 0.9rem; /* Slightly smaller text */
  }

  .task-actions {
    position: absolute; /* Position buttons top-right */
    top: 0.5rem;
    right: 0.5rem;
    gap: 0.3rem; /* Reduce gap between buttons */
    /* Ensure buttons don't wrap */
    flex-wrap: nowrap;
    width: auto; /* Don't take full width */
  }
  .task-actions button {
    padding: 0.5rem; /* Adjust padding */
  }

  /* Task editing mode */
  .task-edit-mode {
    flex-direction: column; /* Stack input and buttons */
    gap: 0.5rem;
  }
  .task-edit-mode input {
    width: 100%;
    margin-bottom: 0.5rem; /* Space below input */
  }
  .task-edit-mode div {
    /* Container for save/cancel */
    display: flex;
    justify-content: flex-end; /* Align buttons right */
    gap: 0.5rem;
    width: 100%;
  }
  .task-edit-mode button {
    padding: 0.5rem 0.75rem; /* Adjust button padding */
    font-size: 0.8rem; /* Smaller button text */
  }

  /* Clear Completed Button */
  #clear-completed-btn {
    width: 100%; /* Full width */
    margin-top: 0.5rem; /* Add some space above */
    padding: 0.75rem;
    font-size: 0.85rem;
  }

  /* No tasks message */
  #no-tasks-message {
    padding: 2rem 1rem; /* Adjust padding */
    font-size: 0.9rem;
  }
  #no-tasks-message .material-symbols-outlined {
    font-size: 2rem; /* Smaller icon */
  }
}

/* ============================================ */
/* Medium-sized screens (tablets)              */
/* (min-width: 641px) and (max-width: 1024px)  */
/* ============================================ */
@media (min-width: 641px) and (max-width: 1024px) {
  /* Slightly adjusted layout for tablets if needed */
  header .max-w-screen-xl {
    padding: 0 1rem; /* Adjust padding */
    gap: 1.5rem;
  }

  #add-task-form {
    /* Can potentially keep row layout, but ensure input doesn't get too small */
    flex-wrap: nowrap; /* Prevent wrapping */
  }
  #task-input {
    min-width: 60%; /* Ensure input has decent width */
  }

  main .max-w-screen-xl {
    padding: 1.5rem; /* More padding */
  }

  .task-text {
    font-size: 1rem; /* Reset font size if changed for mobile */
  }
  .task-actions {
    /* Reset positioning if changed for mobile */
    position: static;
    width: auto;
    margin-top: 0;
  }
}

/* ============================================ */
/* Landscape Mobile Orientation                */
/* (max-height: 500px) - Adjust as needed     */
/* ============================================ */
@media (max-height: 500px) and (orientation: landscape) {
  /* Reduce vertical space usage in landscape */
  header {
    position: static; /* Unstick header if needed */
    padding: 0.5rem;
  }
  header h1 {
    font-size: 1.1rem;
  }
  header .max-w-screen-xl {
    gap: 0.5rem;
  }
  header .bg-slate-100 {
    padding: 0.1rem;
  } /* Smaller date nav */
  #current-date {
    font-size: 0.8rem;
  }
  #go-today-btn {
    display: none;
  } /* Hide less critical button */

  #add-task-form {
    margin-bottom: 0.75rem;
    padding-bottom: 0.75rem;
    flex-direction: row; /* Keep form in a row */
    gap: 0.5rem;
  }
  #add-task-form button {
    width: auto;
    padding: 0.6rem 1rem;
  } /* Auto width button */

  .task-list-container {
    margin-top: 0.5rem; /* Reduce space */
  }
  .task-list {
    max-height: 45vh; /* Limit task list height */
  }
  #pdf-tasks-panel.visible {
    max-height: 150px; /* Smaller height for the PDF tasks panel */
  }
  #pdf-tasks-list {
    max-height: 100px; /* Even smaller */
  }
}

/* ============================================ */
/* Fixes & Enhancements                        */
/* ============================================ */

/* Fix for Safari's date picker width if you use date inputs */
/* @supports (-webkit-touch-callout: none) {
  input[type="date"] {
    min-width: 100px; /* Adjust as needed */
/* } */
/* } */

/* PDF Panel Animation (ensure it's smooth) */
#pdf-tasks-panel {
  /* Styles defined in base CSS */
  transition: max-height 0.3s ease-out, padding 0.3s ease-out,
    border-color 0.3s ease-out, margin 0.3s ease-out;
}
#pdf-tasks-panel.visible {
  /* Styles defined in base CSS */
}

/* Feedback message animation (if using from script.js) */
@keyframes fadeInOut {
  0% {
    opacity: 0;
    transform: translateY(-10px);
  }
  15% {
    opacity: 1;
    transform: translateY(0);
  }
  85% {
    opacity: 1;
    transform: translateY(0);
  }
  100% {
    opacity: 0;
    transform: translateY(-10px);
  }
}
.animate-fade-in-out {
  animation: fadeInOut 2.5s ease-in-out forwards;
}
